// Name:            Base
// Description:     Default values for HTML elements
//
// ========================================================================

// Variables
// ========================================================================

$base-body-background: #fff !default;
$base-body-font-family: $primary-font !default;
$base-body-font-weight: normal !default;
$base-body-font-size: $textSizes-base !default;
$base-body-line-height: 1.5 !default;
$base-body-color: $colors-black !default;

$base-link-color: $colors-primary !default;
$base-link-text-decoration: none !default;
$base-link-hover-color: $colors-primary-dark !default;
$base-link-hover-text-decoration: underline !default;

$base-strong-font-weight: bolder !default;
$base-code-font-size: $textSizes-sm !default;
$base-code-font-family: Consolas, monaco, monospace !default;
$base-code-color: $colors-gray-lightest !default;
$base-em-color: $colors-gray-lightest !default;
$base-ins-background: #ffd !default;
$base-ins-color: #fff !default;
$base-mark-background: #ffd !default;
$base-mark-color: #fff !default;
$base-quote-font-style: italic !default;
$base-small-font-size: 80% !default;

$base-margin-vertical: 1rem !default;

$base-list-padding-left: 30px !default;

$base-hr-margin-vertical: 1rem !default;
$base-hr-border-width: 1px !default;
$base-hr-border: $colors-gray-light !default;

$base-blockquote-font-size: 1rem !default;
$base-blockquote-line-height: 1.5 !default;
$base-blockquote-font-style: italic !default;
$base-blockquote-margin-vertical: 1rem !default;
$base-blockquote-footer-margin-top: 0.7rem !default;
$base-blockquote-footer-font-size: $textSizes-sm !default;
$base-blockquote-footer-line-height: 1.5 !default;

$base-pre-font-size: $textSizes-sm !default;
$base-pre-line-height: 1.5 !default;
$base-pre-font-family: $base-code-font-family !default;
$base-pre-color: $colors-black !default;

$base-selection-background: $colors-primary !default;
$base-selection-color: #fff !default;

/* ========================================================================
   Component: Base
 ========================================================================== */

/*
 * 1. Set `font-size` to support `rem` units
 *    Not using `font` property because a leading hyphen (e.g. -apple-system) causes the font to break in IE11 and Edge
 * 2. Prevent adjustments of font size after orientation changes in iOS.
 * 3. Style
 */

html {
  /* 1 */
  font-family: $base-body-font-family;
  font-size: $base-body-font-size;
  font-weight: $base-body-font-weight;
  line-height: $base-body-line-height;

  /* 2 */
  -webkit-text-size-adjust: 100%;

  /* 3 */
  background: $base-body-background;
  color: $base-body-color;

  @if (mixin-exists(hook-base-body)) {
    @include hook-base-body();
  }
}

/*
 * Remove the margin in all browsers.
 */

body {
  margin: 0;
}

/* Links
 ========================================================================== */

/*
 * Remove gaps in links underline in iOS 8+ and Safari 8+.
 */

a {
  -webkit-text-decoration-skip: objects;
}

/*
 * Remove the outline on focused links when they are also active or hovered
 */

a:active,
a:hover {
  outline: none;
}

/* Text-level semantics
 ========================================================================== */

/*
 * 1. Add an underline text decoration in Safari, Edge and IE.
 * 2. Add `dotted` style in Safari.
 * Note: The shorthand declaration `underline dotted` is not supported in Safari, Edge and IE.
 */

abbr[title] {
  /* 1 */
  text-decoration: underline;

  /* 2 */
  -webkit-text-decoration-style: dotted;
}

/*
 * Add the correct font weight in Chrome, Edge, and Safari.
 */

b,
strong {
  font-weight: $base-strong-font-weight;
}

/*
 * 1. Consolas has a better baseline in running text compared to `Courier`
 * 2. Correct the odd `em` font sizing in all browsers.
 * 3. Style
 */

:not(pre) > code,
:not(pre) > kbd,
:not(pre) > samp {
  /* 1 */
  font-family: $base-code-font-family;

  /* 2 */
  font-size: $base-code-font-size;

  /* 3 */
  color: $base-code-color;
  white-space: nowrap;
}

/*
 * Emphasize
 */

em {
  color: $base-em-color;
}

/*
 * Insert
 */

ins {
  background: $base-ins-background;
  color: $base-ins-color;
  text-decoration: none;
}

/*
 * Mark
 */

mark {
  background: $base-mark-background;
  color: $base-mark-color;
}

/*
 * Quote
 */

q {
  font-style: $base-quote-font-style;
}

/*
 * Add the correct font size in all browsers.
 */

small {
  font-size: $base-small-font-size;
}

/*
 * Prevents `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

/* Embedded content
 ========================================================================== */

/*
 * Remove the gap between embedded content and the bottom of their containers.
 */

audio,
canvas,
iframe,
img,
svg,
video {
  vertical-align: middle;
}

/*
 * 1. Add responsiveness.
 * 2. Auto-scale the height. Only needed if `height` attribute is present.
 * 3. Corrects responsive `max-width` behavior if padding and border are used.
 * 4. Exclude SVGs for IE11 because they don't preserve their aspect ratio.
 */

canvas,
img,
video {
  /* 1 */
  max-width: 100%;

  /* 2 */
  height: auto;

  /* 3 */
  box-sizing: border-box;
}

/* 4 */
@supports (display: block) {
  svg {
    max-width: 100%;
    height: auto;
    box-sizing: border-box;
  }
}

/*
 * Hide the overflow in IE.
 */

svg:not(:root) {
  overflow: hidden;
}

/*
 * Hide `alt` text for lazy load images
 * Selector for background while loading img[data-src*='.jpg'][src*='data:image'] { background: grey; }
 */

img:not([src]) {
  visibility: hidden;
}

/*
 * Iframe
 * Remove border in all browsers
 */

iframe {
  border: 0;
}

/*
 * Margins
 */

p,
ul,
ol,
dl,
pre,
address,
fieldset,
figure {
  margin: 0 0 $base-margin-vertical 0;
}

/* Add margin if adjacent element */
* + p,
* + ul,
* + ol,
* + dl,
* + pre,
* + address,
* + fieldset,
* + figure {
  margin-top: $base-margin-vertical;
}

/* Lists
 ========================================================================== */

ul,
ol {
  padding-left: $base-list-padding-left;
}

/*
 * Reset margin for nested lists
 */

ul > li > ul,
ul > li > ol,
ol > li > ol,
ol > li > ul {
  margin: 0;
}

/* Description lists
 ========================================================================== */

dt {
  font-weight: bold;
}

dd {
  margin-left: 0;
}

/* Horizontal rules
 ========================================================================== */

/*
 * 1. Add the correct box sizing and height in Firefox.
 * 2. Show the overflow in Edge and IE.
 * 3. Add the correct text-align in Edge and IE.
 * 4. Style
 */

hr {
  /* 1 */
  box-sizing: content-box;
  height: 0;

  /* 2 */
  overflow: visible;

  /* 3 */
  text-align: inherit;

  /* 4 */
  margin: 0 0 $base-hr-margin-vertical 0;
  border: 0;
  border-top: $base-hr-border-width solid $base-hr-border;
}

/* Add margin if adjacent element */
* + hr {
  margin-top: $base-hr-margin-vertical;
}

/* Address
 ========================================================================== */

address {
  font-style: normal;
}

/* Blockquotes
 ========================================================================== */

blockquote {
  margin: 0 0 $base-blockquote-margin-vertical 0;
  font-size: $base-blockquote-font-size;
  line-height: $base-blockquote-line-height;
  font-style: $base-blockquote-font-style;
}

/* Add margin if adjacent element */
* + blockquote {
  margin-top: $base-blockquote-margin-vertical;
}

/*
 * Content
 */

blockquote p:last-of-type {
  margin-bottom: 0;
}

blockquote footer {
  margin-top: $base-blockquote-footer-margin-top;
  font-size: $base-blockquote-footer-font-size;
  line-height: $base-blockquote-footer-line-height;
}

/* Preformatted text
 ========================================================================== */

/*
 * 1. Contain overflow in all browsers.
 */

pre {
  font: $base-pre-font-size unquote("/") $base-pre-line-height
    $base-pre-font-family;
  color: $base-pre-color;
  -moz-tab-size: 4;
  tab-size: 4;

  /* 1 */
  overflow: auto;
}

pre code {
  font-family: $base-pre-font-family;
}

/* Selection pseudo-element
 ========================================================================== */

::selection {
  background: $base-selection-background;
  color: $base-selection-color;
  text-shadow: none;
}

/* HTML5 elements
 ========================================================================== */

/*
 * 1. Add the correct display in Edge, IE 10+, and Firefox.
 * 2. Add the correct display in IE.
 */

details, /* 1 */
main {
  /* 2 */
  display: block;
}

/*
 * Add the correct display in all browsers.
 */

summary {
  display: list-item;
}

/*
 * Add the correct display in IE.
 */

template {
  display: none;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  @apply mb-2 leading-tight;
}

p {
  @apply mb-3 leading-normal;
}

a {
  @apply text-primary no-underline border-b-1 border-transparent;

  transition: 0.2s ease;

  &:hover {
    @apply border-primary;
  }
}
